{
  "webui_url": {
    "type": "string",
    "title": "WebUI 地址",
    "description": "Stable Diffusion WebUI 的完整 URL 地址。",
    "default": "http://127.0.0.1:7860"
  },
  "session_timeout": {
    "type": "integer",
    "title": "会话超时",
    "description": "等待用户输入的会话超时时间（秒）。",
    "default": 120
  },
  "max_concurrent_tasks": {
    "type": "integer",
    "title": "最大并发任务数",
    "description": "插件可以同时处理的最大绘图任务数量。",
    "default": 10
  },
  "enable_llm_prompt_generation": {
    "type": "boolean",
    "title": "启用LLM生成提示词",
    "description": "是否为 /i2i 命令启用 LLM 辅助生成和优化提示词。",
    "default": true
  },
  "enable_upscale": {
    "type": "boolean",
    "title": "启用图片放大",
    "description": "是否在生成图片后自动进行放大处理。",
    "default": false
  },
  "enable_show_positive_prompt": {
    "type": "boolean",
    "title": "显示正面提示词",
    "description": "生成图片后，是否在消息中显示最终使用的正面提示词。",
    "default": true
  },
  "enable_forward_message": {
    "type": "boolean",
    "title": "以新消息发送图片",
    "description": "True: 以新消息发送图片（不回复）。False: 以回复原消息的方式发送图片。",
    "default": false
  },
  "positive_prompt_global": {
    "type": "string",
    "title": "全局正面提示词",
    "description": "会自动添加到所有（非白名单）用户提示词之前的内容。",
    "default": ""
  },
  "negative_prompt_global": {
    "type": "string",
    "title": "全局负面提示词",
    "description": "所有（非白名单）任务都会使用的负面提示词。",
    "default": "(worst quality, low quality:1.4), deformed, bad anatomy"
  },
  "whitelist_groups": {
    "type": "array",
    "title": "白名单群组ID",
    "description": "白名单群组列表，这些群组将使用专属的提示词模板。",
    "items": {
      "type": "string"
    },
    "default": []
  },
  "blacklist_groups": {
    "type": "array",
    "title": "黑名单群组ID",
    "description": "黑名单群组列表，插件将完全忽略这些群组的消息。",
    "items": {
      "type": "string"
    },
    "default": []
  },
  "positive_prompt_whitelist": {
    "type": "string",
    "title": "白名单专属正面提示词",
    "description": "白名单群组使用的专属正面提示词。",
    "default": "masterpiece, best quality"
  },
  "negative_prompt_whitelist": {
    "type": "string",
    "title": "白名单专属负面提示词",
    "description": "白名单群组使用的专属负面提示词。",
    "default": ""
  },
  "base_model": {
    "type": "string",
    "title": "基础模型名称",
    "description": "（可选）指定一个默认加载的基础模型。",
    "default": ""
  },
  "llm_prompt_prefix": {
    "type": "string",
    "title": "LLM系统指令",
    "description": "给LLM设定的“角色”或“系统指令”，指导其行为。",
    "default": "You are a professional Stable Diffusion prompt engineer. Your task is to expand and optimize the user's simple description into a high-quality, detailed, and professional English prompt suitable for Stable Diffusion syntax. Please output in the form of comma-separated keywords."
  },
  "prompt_guidelines": {
    "type": "string",
    "title": "LLM生成规则",
    "description": "给LLM设定的具体“规则”或“限制”，进一步约束其输出。",
    "default": "Rules: 1. Must include the core subject. 2. Appropriately add terms related to scene, lighting, and image quality. 3. Do not use Chinese or any non-English punctuation."
  },
  "default_params": {
    "type": "object",
    "title": "默认Txt2Img参数",
    "properties": {
      "width": { "type": "integer", "default": 512 },
      "height": { "type": "integer", "default": 512 },
      "steps": { "type": "integer", "default": 20 },
      "sampler": { "type": "string", "default": "Euler a" },
      "scheduler": { "type": "string", "default": "Karras" },
      "cfg_scale": { "type": "number", "default": 7.0 },
      "batch_size": { "type": "integer", "default": 1 },
      "n_iter": { "type": "integer", "default": 1 }
    }
  },
  "img2img_params": {
    "type": "object",
    "title": "默认Img2Img参数",
    "properties": {
      "denoising_strength": { "type": "number", "default": 0.75 },
      "steps": { "type": "integer", "default": 20 },
      "sampler": { "type": "string", "default": "Euler a" },
      "scheduler": { "type": "string", "default": "Karras" },
      "cfg_scale": { "type": "number", "default": 7.0 },
      "batch_size": { "type": "integer", "default": 1 },
      "n_iter": { "type": "integer", "default": 1 }
    }
  },
  "upscale_params": {
    "type": "object",
    "title": "默认放大参数",
    "properties": {
      "upscaler": { "type": "string", "default": "Latent" },
      "upscale_factor": { "type": "number", "default": 2.0 }
    }
  }
}
